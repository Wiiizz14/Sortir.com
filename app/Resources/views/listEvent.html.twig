{% extends 'base.html.twig' %}
{% form_theme form 'bootstrap_4_layout.html.twig' %}
{% block title %}Accueil{% endblock %}
{% block pagetitle %}Accueil{% endblock %}

{% block body %}
    <div>
        <script>
            user = {
                id: {{ app.user.id }},
                username: '{{ app.user.username }}',
                site: {{ app.user.site.id }}
            };
        </script>
        <div>
            <h2>Recherche de sorties</h2>
            <div>
                {{ form_start(form) }}
                <p>{{ form_row(form.sites, {"label": "Site", 'id': "choixSite", 'attr': {'onchange': "selectionSite();"}}) }}</p>
                <p>{{ form_row(form.organisateur, {"label": "Sorties dont je suis l'organisateur/trice", 'id': "isOrganisateur", 'attr': {'onchange': "selectionSite();"}}) }}</p>
                <p>{{ form_row(form.isInscrit, {"label": "Sorties auxquelles je suis inscrit/e", 'id': "isInscrit", 'attr': {'onchange': "selectionSite();"}}) }}</p>
                <p>{{ form_row(form.isNotInscrit, {"label": "Sorties auxquelles je ne suis pas inscrit/e", 'id': "isNotInscrit", 'attr': {'onchange': "selectionSite();"}}) }}</p>
                <p>{{ form_row(form.archive, {"label": "Sorties passées", 'id': "isArchive", 'attr': {'onchange': "selectionSite();"}}) }}</p>
                {{ form_end(form) }}
            </div>
        </div>
    </div>

    <form class="search-form col-md-4">
        <label for="dateMin">Entre : </label>
        <input class="form-control form-control-sm mr-3"  id="dateMin" type="date" onchange="selectionSite()">
        <label for="dateMax">et : </label>
        <input class="form-control form-control-sm mr-3"   id="dateMax" type="date" onchange="selectionSite()">
        <input class="form-control form-control-sm mr-3" type="text" placeholder="Rechercher par mot clé" aria-label="Search" id="myInput">
        <i class="fas fa-search" aria-hidden="true"></i>

    </form>
    <div class="table-responsive">
        <table class="table table-hover">

            <tr>
                <th scope="col">Nom</th>
                <th scope="col">Date de la sortie</th>
                <th scope="col">Date de clôture</th>
                <th scope="col">Inscrits/Places</th>
                <th scope="col">Etat</th>
                <th scope="col">Inscrit</th>
                <th scope="col">Organisateur</th>
                <th scope="col">Actions</th>
            </tr>
            <tbody id="myTable">
            </tbody>
        </table>
        <div id="loader" style="display: none" align="center"><img src="{{ asset('Images/loader.gif') }}"></div>
    </div>

    <div>
        <a href="{{ path('event_createEvent') }}" class="btn btn-primary">Organiser une nouvelle sortie</a>
    </div>

    <script src="{{ asset('js/listjs.js') }}"></script>
{% endblock %}